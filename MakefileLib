TARGET = LibME
OBJS = src/me.o \
src/MediaEngine.o \
src/melib.o \

alib = lib/libME.a

INCDIR = $(PSPPATH)/include
INCDIR += ./include ./libs/include
CFLAGS = -O3 -G0 -mpreferred-stack-boundary=4 -ffast-math  -gdwarf-2
CXXFLAGS = -std=gnu++17 -fno-rtti -fno-exceptions
ASFLAGS = $(CFLAGS)

LIBDIR += ./libs/lib/
LDFLAGS =
LIBS=-lpspaudiolib -lpspaudio -lpspaudiocodec -lpspgum -lpspgu -lstdc++ -lpsprtc -lpspctrl -lm -lpspvfpu -lpspsdk -lpsppower -lpsphttp -lpspmath

$(alib): $(OBJS)
	$(AR) rcs $@ $^

PSPSDK=$(shell psp-config --pspsdk-path)
include $(PSPSDK)/lib/build.mak
